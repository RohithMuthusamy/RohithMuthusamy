name: Update GitHub Profile Metrics

# Give write permission to GitHub Actions
permissions:
  contents: write

on:
  schedule:
    - cron: "0 0 * * *"   # Runs daily
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Generate GitHub Metrics
        uses: lowlighter/metrics@latest
        with:
          # Use default GitHub token
          token: ${{ secrets.GITHUB_TOKEN }}

          # Your username
          user: rohithmuthusamy

          # Base sections
          template: classic
          base: header, repositories, activity, community

          # Repository plugin
          plugin_repositories: yes
          plugin_repositories_order: stars
          plugin_repositories_pinned: 8
          plugin_repositories_affiliations: owner

          # Language stats
          plugin_languages: yes
          plugin_languages_limit: 8

          # Contribution habits
          plugin_habits: yes
          plugin_habits_days: 14
          plugin_habits_facts: yes

          # Achievements
          plugin_achievements: yes
